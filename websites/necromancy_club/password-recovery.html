<link href="https://fonts.googleapis.com/css2?family=Crete+Round:ital@1&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://quewon.github.io/necromancy_club/global.css">

<style>
	.brief {
		border: 1px solid var(--primary);
		width: 50%;
		height: 50%;
		margin: auto;
		margin-top: 10%;
		padding: var(--font-size);
		line-height: 1.3;
	}
</style>

<body>
<h1 onclick="post('main')">the necromancy club</h1>
<div class="brief">
	<div id="status">enter an adminstrator email address.</div><br /><br />
	<div class="inputbar">
		<input id="email" contenteditable spellcheck="false" placeholder="admin@spark.inc" autocomplete="off"></input><button style="float:right" onclick="check_input()">go!</button>
		<a onclick="parent.hyperlink('necromancy_club')" style='font-size:0.8em'>Back to the main page</a>
	</div>
</div>
</body>
<script>
	var email = document.getElementById("email");
	var status = document.getElementById("status");
	document.querySelector('input').addEventListener("keypress", function(e) {
		let k = event.keyCode || event.which;
		if (k===13) {
			event.preventDefault();
			check_input()
		}
	})
	function check_input() {
		console.log('email entered');
		if (parent.admin_emails.includes(email.value)) {
			parent.hyperlink('necromancy_club', 'password-recovery-done')
		} else {
			status.textContent = "address is not a valid administrator email."
		}
		email.value = "";
	}
</script>